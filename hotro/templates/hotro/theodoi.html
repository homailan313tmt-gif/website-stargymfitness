
{% extends "base-customer.html" %}
{% block title %}Theo dõi phản hồi | Star Gym Fitness{% endblock %}

{% block content %}
<style>
                :root {
  --color-primary: #f7c948;
  --color-text-light: #fff;
  --color-text-secondary: #cfcfcf;
  --color-dark-card: #222;
  --color-darker-card: #1a1a1a;
}
/* --- 1. Tiêu đề Highlight (Page Title) --- */
.page-title {
  color:#fff;
  font-size: 40px;
  font-weight: 700;
  margin-bottom: 22px;
  display: flex;
  align-items: center;
  text-align:left;
  text-transform: uppercase;
}

/* Thanh vàng nổi bật bên trái tiêu đề */
.page-title::before {
  content: '';
  display: block;
  width: 6px;
  height: 1.1em;
  background-color: var(--color-primary);
  margin-right: 15px;

}
/* BẢNG DARK-GOLD */
.table-dark-gold {
  width: 100%;
  border-collapse: collapse;
  border-radius: 10px;
  overflow: hidden;
  background-color: #111;
  box-shadow: 0 0 10px rgba(255, 215, 0, 0.2);
}

.table-dark-gold thead th {
  background-color: #222;
  color: #ffcc33;
  padding: 12px;
  border-bottom: 2px solid #ffcc33;
  text-transform: capitalize;
}

.table-dark-gold tbody td {
  background-color: #1a1a1a;
  color: #f5f5f5;
  padding: 10px;
  border-bottom: 1px solid #333;
}

.table-dark-gold tr:last-child td {
  border-bottom: none;
}

.table-dark-gold .btn-outline-dark {
  color: #ffcc33;
  border: 1px solid #ffcc33;
  background: transparent;
  transition: all 0.3s ease;
}

.table-dark-gold .btn-outline-dark:hover {
  background-color: #ffcc33;
  color: #111;
}

/* Nút Trở về */
.btn-back {
  color: #111;
  background-color: #ffcc33;
  border: 1px solid #ffcc33;
  padding: 6px 20px;
  border-radius: 6px;
  font-weight: 700;
  text-decoration: none;
  transition: all 0.3s ease;
}

.btn-back:hover {
  background-color: transparent;
  color: #ffcc33;
}
</style>

<div style=" color:white; text-align:center;">
<div class="page-wrap my-4">
  <h2 class="page-title">Theo dõi phản hồi</h2>

    <!-- FORM LỌC -->
  <div class="d-flex justify-content-end mb-4">
    <form method="get" class="d-flex">
      <select name="status"
              class="form-select me-2"
              style="max-width:200px; background-color:#111; color:#fff; border:1px solid #ffcc33;">
        <option value="">Tất cả</option>
        <option value="Đã xử lý" {% if status == 'Đã xử lý' %}selected{% endif %}>Đã xử lý</option>
        <option value="Chưa xử lý" {% if status == 'Chưa xử lý' %}selected{% endif %}>Chưa xử lý</option>
      </select>
      <button class="btn btn-warning fw-semibold px-4">Lọc</button>
    </form>
  </div>
  <!-- KHUNG BẢNG -->
  <div class="p-3" style="background-color:#0d0d0d; border-radius:12px; box-shadow:0 0 15px rgba(255,215,0,0.15);">
    <table class="table-dark-gold text-center" style="width:100%;">
      <thead>
        <tr>
          <th>Ngày</th>
          <th>Loại phản hồi</th>
          <th>Trạng thái</th>
          <th>Chi tiết</th>
        </tr>
      </thead>
      <tbody>
        {% for ph in ds %}
        <tr>
          <td>{{ ph.ngay_gui|date:"d-m-Y" }}</td>
          <td>{{ ph.loai }}</td>
          <td>
            {% if ph.trang_thai == 'Chưa xử lý' %}
            <span class="badge bg-danger">Chưa xử lý</span>
            {% else %}
            <span class="badge bg-success">Đã xử lý</span>
            {% endif %}
          </td>
          <td>
            <a href="{% url 'chi_tiet' ph.id %}" class="btn btn-outline-dark btn-sm">Xem</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="4" class="py-3" style="color:#fff;">Chưa có phản hồi nào.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- Nút Trở về ở giữa -->
  <div class="mt-4 d-flex justify-content-center">
    <a href="{% url 'gui_phan_hoi' %}" class="btn-back">Trở về</a>
  </div>
</div>

{% endblock %}
